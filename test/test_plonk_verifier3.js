const verifier = artifacts.require("PlonkVerifier3");
const BN = require('bn.js');

contract("PlonkVerifier3", () => {
    it("verify", async () => {
        const verifierInstance = await verifier.deployed();

        const proof = "0x0c2dd39b7ebf8f5150e00c600a7f35df829dd28e7e252a110ea5e974738e41ae162c25df47dde272bb6c37235c4154163a447c893c3b1c06eb72a127678016be2adbe82fac838a6f891270a69e0494e66087e47d04113a34f32c93775be29b1e2763713a978380aeddcbaadc10802a6fcff39a966fea52de7fbedfea67d691631cb28ca0d7a1ab39c2cc1a12a2e718b78ad2a1d9ca0616f9ec7f0801fc4600a6085a41ca8c84ee0d6b31db9144c527f933bc460da0da1af510ee9d954ebb78532f3c544a98bf27afe5e727f2469784ce76fe3c53e1fb5d21d79d309a34d86bf80f6b5bcb73c346c77934b7fd752233219e737e39a2a4ea8fe306349ae78a166d2b4dce68c2a2f58453b3cc19955001ac0ce3ab6c36b360597e8575b8af23276b10e4b9c86f64260a638db06e79d3b06f309500345a0c512d80b7fe8d903389cf0c4b6b89c3ed73e740ac00935da75724acce721018fdc30038f02dad312a138f18dc3019670b83ec001f94ce8b68be83fd6f5f5f41eb0178232f45d248b697e3134b5068f1c5db81809826f67e3bfdf6fa3aaf80b8a27ea371c3c1f43d268c03247960aa7190ebab9328ea72e1d9580cd90bbae291964fce8dbbebba7437f8a601c543201950a21105653ea7b5dc7ce9e3b4996e4b12234122d1c2e478c9b6070f114847b9de9cde54204001ecf1ea7bc3a934518dbd7bc1c2210bb200dfc70c1e6d01bf97f39bd906ab13706b938936fdbbee31ff2396dc71a7b3a9653ae2f20f9a8a73ec5386fecb9a437029ee7ba07df8c6336e9d01b0f799d11dd432796f27958d5ac5c0921f3765d8e463d4989d760a4976336c273d888edcb0693886b32577c916d113e1aae68d56668adfa049002fe30b9d56e57b86b51ac5971c013d1a64efbc301a00896d4fce2df3417ee44f3402ecb98ac21a41a1b83add650e4625a8cb97732aea3aa2cbf9e79ff3f21d440e43f40ff3593f811bb80e642445e52eafe289e98aca89a7bc3f56fcff3d9926dd67f2d2b949824742f17bd7590e310747d790d428798699183368102d00f2f47ccedb1ffacb1e80e54abc3250158f135f317a5a6d0c7e2389af448e32662d31775246d6c0901cc81f1b1e2bcb96c4";
        const pubSignals = [
            "0x30644e72e131a029b85045b68181585d2833e84876b7b965a760444f58bc4001",
            "0x000000000000000000000000000000000000000000000000000000000000001d",
            "0x30644e72e131a029b85045b68181585d2833e848486b15847c8d5608141f0001",
            "0x000000000000000000000000000000000000000000000000000000000000001d",
            "0x30644e72e131a029b85045b68181585d2833e8486d1e343c0de10642f1410001",
            "0x000000000000000000000000000000000000000000000000000000000000001d",
            "0x111da4b536325aca16982ce6fbcb52c06e6708b4976e0b0dbddb022776ff9ffc",
            "0x0f6f31d790c79863387ddcbe761748b5dc72837e62035cc85e8eb136d727e8e4"].map((v) => {
                return new BN(v.slice(2), 16);
            });
        const res = await verifierInstance.verifyProof.call(proof, pubSignals);
        assert.isTrue(res.valueOf());
    })
})