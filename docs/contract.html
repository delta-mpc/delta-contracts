<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta
      name="description"
      content="Web site created with EthDoc"
  />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  <body>
      
    <style>
        #ethdoc-viewer{
            font-size: 0.8em;
            padding: 1em;
        }
        #ethdoc-viewer .lead{
            font-size: 1em;
        }
        #ethdoc-viewer table {
            width: 50%;
        }
        #ethdoc-viewer hr {
            margin: 0;
            margin-bottom: 0.5rem;
        }
        #ethdoc-viewer p{
            margin-bottom: 0.5rem;
        }
    </style>

    <div id="ethdoc-viewer">
    
        
    <h3>DeltaContract <small>: Delta Contract</small></h3>

    

    

    <br />
    <p><strong>Functions</strong></p>


        
          <hr>
            <h6>constructor</h6>

            <p>Set contract deployer as owner</p>


            <p>No parameters</p>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>changeOwner</h6>

            <p>Change owner</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>newOwner</td>
        <td>address</td>
        <td>address of new owner</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>createTask</h6>

            <p>called by task developer, notifying all clients that a new learning task has been published </p>


            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>creatorUrl</td>
        <td>string</td>
        <td></td>
        </tr><tr>
        <td>dataSet</td>
        <td>string</td>
        <td>data set name (file/folder name of training data)</td>
        </tr><tr>
        <td>commitment</td>
        <td>bytes32</td>
        <td>training code hash (client validation purpose)</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>endRound</h6>

            <p>called by task developer, close round</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>getCandidatePks</h6>

            <p><strong>**Add Documentation for the method here**</strong></p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td></td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td></td>
        </tr><tr>
        <td>candidateAddr</td>
        <td>address</td>
        <td></td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>candidate</td>
        <td>tuple</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>getCommitment</h6>

            <p>called by task developer, get commitments from blockchain(Server has to call this method for every clients to get their commiments as the return value couldn't contain mapping type in solidity(damn it))</p>


            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>clientaddress</td>
        <td>address</td>
        <td>the client that publish the commitments  </td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the round of that commitment</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>commitment</td>
        <td>tuple</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>getMaxCommitmentsLength</h6>

            <p>called by contract owner, get max commitment length (in byte)</p>

            <p>No parameters</p>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>sslength</td>
        <td>uint64</td>
        <td></td>
        </tr><tr>
        <td>weightLength</td>
        <td>uint64</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>getOwner</h6>

            <p>Return owner address </p>


            <p>No parameters</p>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td></td>
        <td>address</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>getTaskData</h6>

            <p>get task info data</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>task</td>
        <td>tuple</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>getTaskRound</h6>

            <p>getting task round infos, this function is called for multiple purposesï¼šone is for task developer to fetch registed clients after round start and another is for  clients to get pks </p>


            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the round to fetch</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskround</td>
        <td>tuple</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>joinRound</h6>

            <p>called by client, join for that round of computation</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the round to join</td>
        </tr><tr>
        <td>url</td>
        <td>string</td>
        <td></td>
        </tr><tr>
        <td>pk1</td>
        <td>bytes32</td>
        <td>used for secure communication channel establishment</td>
        </tr><tr>
        <td>pk2</td>
        <td>bytes32</td>
        <td>used for mask generation</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td></td>
        <td>bool</td>
        <td></td>
        </tr>
              </tbody>
      </table>
            

          <hr>
            <h6>selectCandidates</h6>

            <p>called by task developer, randomly choose candidates to be computation nodes</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td></td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td></td>
        </tr><tr>
        <td>cltaddrs</td>
        <td>address[]</td>
        <td>selected client addresses</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>setMaxSSCommitmentLength</h6>

            <p>called by contract owner, set max secret sharing commitment length (in byte)</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>maxLength</td>
        <td>uint64</td>
        <td></td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>setMaxWeightCommitmentLength</h6>

            <p>called by contract owner, set max commitment length (in byte)</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>maxLength</td>
        <td>uint64</td>
        <td></td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>startAggregate</h6>

            <p>called by task developer, notifying all participants for aggregating</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>startAggregateUpload</h6>

            <p>called by task developer, notifying all participants for upload secret sharing masks</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr><tr>
        <td>onlineClients</td>
        <td>address[]</td>
        <td></td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>startRound</h6>

            <p>called by task developer, notifying all clients that a new computing round is started and open for joining</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the round to start</td>
        </tr><tr>
        <td>maxSample</td>
        <td>uint32</td>
        <td></td>
        </tr><tr>
        <td>minSample</td>
        <td>uint32</td>
        <td></td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>uploadSeedCommitment</h6>

            <p>called by client, upload secret sharing seed commitment</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr><tr>
        <td>seedCmmtmnt</td>
        <td>bytes</td>
        <td>secret sharing piece of seed mask</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>uploadSkMaskCommitment</h6>

            <p>called by client, upload secret sharing secret key mask commitment</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr><tr>
        <td>secretKeyMaskCmmtmnt</td>
        <td>bytes</td>
        <td>secret sharing piece of secret key mask</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            

          <hr>
            <h6>uploadWeightCommitment</h6>

            <p>called by client, upload weight commitment</p>

            <table class="table table-sm table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
    <tr>
        <td>taskId</td>
        <td>bytes32</td>
        <td>taskId</td>
        </tr><tr>
        <td>round</td>
        <td>uint64</td>
        <td>the task round</td>
        </tr><tr>
        <td>weightCommitment</td>
        <td>bytes</td>
        <td>masked model incremental commitment</td>
        </tr>
              </tbody>
      </table>
                  
            <p>Returns:</p>
           
            <p>No parameters</p>
            
    
    </div>

  </body>
  </html>